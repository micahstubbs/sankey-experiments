Forked from https://bl.ocks.org/emeeks/e749224c89f82788cb18

Updated to use d3 v4

